{"ast":null,"code":"var _jsxFileName = \"/Users/davidmathews/Desktop/FULLSTACK ACADEMY/Projects/course_work/graceshopper/newamazon/src/components/AllProducts.js\",\n    _s = $RefreshSig$();\n\nimport \"./Components.css\";\nimport { Button, Card, CardContent, Container, Grid, Paper, Typography } from \"@mui/material\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport { useEffect, useState } from \"react\";\nimport baseUrl from \"../api\";\nimport { Link } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AllProducts = props => {\n  _s();\n\n  const [books, setBooks] = useState([]);\n  const [productId, setProductId] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const getAllBooks = async () => {\n    const resp = await fetch(`${baseUrl}/products`);\n    const info = await resp.json();\n    setBooks(info);\n  };\n\n  useEffect(() => {\n    getAllBooks();\n  }, []);\n\n  const addToCart = async productId => {\n    const response = await fetch(`${baseUrl}/products`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${props.token}`\n      },\n      body: {\n        product_id: productId,\n        quantity: 1\n      }\n    });\n    const info = await response.json();\n\n    if (info.error) {\n      console.log(info.error);\n      return setErrorMessage(info.error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"All Books\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: books.map(book => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/products/${book.id}`,\n            children: /*#__PURE__*/_jsxDEV(Card, {\n              raised: true,\n              children: [/*#__PURE__*/_jsxDEV(CardContent, {\n                children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n                  component: \"img\",\n                  image: book.image // height='200px'\n\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 60,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 65,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  align: \"center\",\n                  children: [\" \", book.name]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 66,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  variant: \"subtitle2\",\n                  children: [\" \", book.description]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 67,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                  align: \"right\",\n                  children: [\"$\", book.price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 71,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n                children: /*#__PURE__*/_jsxDEV(Button, {\n                  size: \"small\",\n                  onClick: e => {\n                    addToCart(book.id);\n                  },\n                  children: \"Add to Cart\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 75,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 58,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 15\n          }, this)\n        }, book.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AllProducts, \"NoThRKhMEc6r6czYpny1bkyamnU=\");\n\n_c = AllProducts;\nexport default AllProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllProducts\");","map":{"version":3,"sources":["/Users/davidmathews/Desktop/FULLSTACK ACADEMY/Projects/course_work/graceshopper/newamazon/src/components/AllProducts.js"],"names":["Button","Card","CardContent","Container","Grid","Paper","Typography","CardActions","CardMedia","useEffect","useState","baseUrl","Link","AllProducts","props","books","setBooks","productId","setProductId","errorMessage","setErrorMessage","getAllBooks","resp","fetch","info","json","addToCart","response","method","headers","Authorization","token","body","product_id","quantity","error","console","log","map","book","id","image","name","description","price","e"],"mappings":"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","sourcesContent":["import \"./Components.css\";\nimport {\n  Button,\n  Card,\n  CardContent,\n  Container,\n  Grid,\n  Paper,\n  Typography,\n} from \"@mui/material\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport { useEffect, useState } from \"react\";\nimport baseUrl from \"../api\";\nimport { Link } from \"react-router-dom\";\n\nconst AllProducts = (props) => {\n  const [books, setBooks] = useState([]);\n  const [productId, setProductId] = useState(\"\");\n  const [errorMessage, setErrorMessage] = useState(\"\");\n\n  const getAllBooks = async () => {\n    const resp = await fetch(`${baseUrl}/products`);\n    const info = await resp.json();\n    setBooks(info);\n  };\n\n  useEffect(() => {\n    getAllBooks();\n  }, []);\n\n  const addToCart = async (productId) => {\n    const response = await fetch(`${baseUrl}/products`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${props.token}`,\n      },\n      body: {\n        product_id: productId,\n        quantity: 1,\n      },\n    });\n    const info = await response.json();\n    if (info.error) {\n      console.log(info.error);\n      return setErrorMessage(info.error);\n    }\n  };\n\n  return (\n    <>\n      <h1>All Books</h1>\n      <Container>\n        <Grid container spacing={2}>\n          {books.map((book) => (\n            <Grid item key={book.id} xs={12} sm={6} md={3}>\n              <Link to={`/products/${book.id}`}>\n                <Card raised>\n                  <CardContent>\n                    <CardMedia\n                      component=\"img\"\n                      image={book.image}\n                      // height='200px'\n                    />\n                    <br></br>\n                    <Typography align=\"center\"> {book.name}</Typography>\n                    <Typography variant=\"subtitle2\">\n                      {\" \"}\n                      {book.description}\n                    </Typography>\n                    <Typography align=\"right\">${book.price}</Typography>\n                    {/* <Typography> {book.stock}</Typography> */}\n                  </CardContent>\n                  <CardActions>\n                    <Button\n                      size=\"small\"\n                      onClick={(e) => {\n                        addToCart(book.id);\n                      }}\n                    >\n                      Add to Cart\n                    </Button>\n                  </CardActions>\n                </Card>\n              </Link>\n            </Grid>\n          ))}\n        </Grid>\n      </Container>\n    </>\n  );\n};\n\nexport default AllProducts;\n"]},"metadata":{},"sourceType":"module"}