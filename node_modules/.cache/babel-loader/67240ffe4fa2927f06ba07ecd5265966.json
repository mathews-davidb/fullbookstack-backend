{"ast":null,"code":"var _jsxFileName = \"/Users/davidmathews/Desktop/FULLSTACK ACADEMY/Projects/course_work/graceshopper/newamazon/src/components/AllProducts.js\",\n    _s = $RefreshSig$();\n\nimport \"./Components.css\";\nimport { Button, Card, CardContent, Container, Grid, Paper, Typography } from \"@mui/material\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport { useEffect, useState } from \"react\";\nimport baseUrl from \"../api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst AllProducts = props => {\n  _s();\n\n  const [books, setBooks] = useState([]);\n  const [productId, setProductId] = useState(\"\");\n\n  const getAllBooks = async () => {\n    const resp = await fetch(`${baseUrl}/products`);\n    const info = await resp.json();\n    setBooks(info);\n  };\n\n  useEffect(() => {\n    getAllBooks();\n  }, []);\n\n  const addToCart = async () => {\n    const response = await fetch(`${baseUrl}/products`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${props.token}`\n      },\n      body: {\n        product_id: productId,\n        quantity: 1\n      }\n    });\n    const info = await response.json();\n\n    if (info.error) {\n      console.log(info.error);\n      return setErrorMessage(info.error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"All Books\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        spacing: 2,\n        children: books.map(book => /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          sm: 6,\n          md: 3,\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            raised: true,\n            children: [/*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(CardMedia, {\n                component: \"img\",\n                image: book.image // height='200px'\n\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                align: \"center\",\n                children: [\" \", book.name]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 63,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"subtitle2\",\n                children: [\" \", book.description]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 64,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                align: \"right\",\n                children: [\"$\", book.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                size: \"small\",\n                onClick: (setProductId(book.id), addToCart),\n                children: \"Add to Cart\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 15\n          }, this)\n        }, book.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AllProducts, \"zOu0fKGN0bDKd4KJ22TppcNTYfI=\");\n\n_c = AllProducts;\nexport default AllProducts;\n\nvar _c;\n\n$RefreshReg$(_c, \"AllProducts\");","map":{"version":3,"sources":["/Users/davidmathews/Desktop/FULLSTACK ACADEMY/Projects/course_work/graceshopper/newamazon/src/components/AllProducts.js"],"names":["Button","Card","CardContent","Container","Grid","Paper","Typography","CardActions","CardMedia","useEffect","useState","baseUrl","AllProducts","props","books","setBooks","productId","setProductId","getAllBooks","resp","fetch","info","json","addToCart","response","method","headers","Authorization","token","body","product_id","quantity","error","console","log","setErrorMessage","map","book","image","name","description","price","id"],"mappings":"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","sourcesContent":["import \"./Components.css\";\nimport {\n  Button,\n  Card,\n  CardContent,\n  Container,\n  Grid,\n  Paper,\n  Typography,\n} from \"@mui/material\";\nimport CardActions from \"@mui/material/CardActions\";\nimport CardMedia from \"@mui/material/CardMedia\";\nimport { useEffect, useState } from \"react\";\nimport baseUrl from \"../api\";\n\nconst AllProducts = (props) => {\n  const [books, setBooks] = useState([]);\n  const [productId, setProductId] = useState(\"\");\n\n  const getAllBooks = async () => {\n    const resp = await fetch(`${baseUrl}/products`);\n    const info = await resp.json();\n    setBooks(info);\n  };\n\n  useEffect(() => {\n    getAllBooks();\n  }, []);\n\n  const addToCart = async () => {\n    const response = await fetch(`${baseUrl}/products`, {\n      method: \"POST\",\n      headers: {\n        Authorization: `Bearer ${props.token}`,\n      },\n      body: {\n        product_id: productId,\n        quantity: 1,\n      },\n    });\n    const info = await response.json();\n    if (info.error) {\n      console.log(info.error);\n      return setErrorMessage(info.error);\n    }\n  };\n\n  return (\n    <>\n      <h1>All Books</h1>\n      <Container>\n        <Grid container spacing={2}>\n          {books.map((book) => (\n            <Grid item key={book.id} xs={12} sm={6} md={3}>\n              <Card raised>\n                <CardContent>\n                  <CardMedia\n                    component=\"img\"\n                    image={book.image}\n                    // height='200px'\n                  />\n                  <br></br>\n                  <Typography align=\"center\"> {book.name}</Typography>\n                  <Typography variant=\"subtitle2\">\n                    {\" \"}\n                    {book.description}\n                  </Typography>\n                  <Typography align=\"right\">${book.price}</Typography>\n                  {/* <Typography> {book.stock}</Typography> */}\n                </CardContent>\n                <CardActions>\n                  <Button\n                    size=\"small\"\n                    onClick={(setProductId(book.id), addToCart)}\n                  >\n                    Add to Cart\n                  </Button>\n                </CardActions>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n      </Container>\n    </>\n  );\n};\n\nexport default AllProducts;\n"]},"metadata":{},"sourceType":"module"}